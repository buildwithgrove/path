{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": 167,
  "links": [],
  "panels": [
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 312,
      "panels": [],
      "title": "Exective Summary",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "red"
              },
              {
                "color": "yellow",
                "value": 95
              },
              {
                "color": "green",
                "value": 99
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 8,
        "x": 0,
        "y": 1
      },
      "id": 418,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "editorMode": "code",
          "expr": "100 * (\n  sum (\n    increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__range])\n  )\n  -\n  sum (\n    increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\", envoy_response_code=~\"5..\"}[$__range])\n  )\n)\n/\nsum (\n  increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__range])\n)",
          "instant": false,
          "legendFormat": "Overall Success Rate (%)",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Overall Success Rate (%)",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 8,
        "x": 8,
        "y": 1
      },
      "id": 417,
      "options": {
        "colorMode": "none",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "value",
        "wideLayout": true
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "editorMode": "code",
          "expr": "sum (\n  rate(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__rate_interval])\n)",
          "instant": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "RPS (Requests Per Second)",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 200
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 8,
        "x": 16,
        "y": 1
      },
      "id": 348,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "mean"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "expr": "histogram_quantile(0.95, sum(rate(envoy_cluster_upstream_rq_time_bucket{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__rate_interval])) by (le))",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "instant": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "A",
          "useBackend": false
        }
      ],
      "title": "Average Latency (ms)",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 5
      },
      "id": 346,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "editorMode": "code",
          "expr": "100 * (\n  sum (\n    increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__range])\n  )\n  -\n  sum (\n    increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\", envoy_response_code=~\"5..\"}[$__range])\n  )\n)\n/\nsum (\n  increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__range])\n)",
          "instant": false,
          "legendFormat": "Overall Success Rate (%)",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Overall Success Rate (%)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 8,
        "y": 5
      },
      "id": 347,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "editorMode": "code",
          "expr": "sum (\n  rate(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__rate_interval])\n)",
          "instant": false,
          "legendFormat": "RPS",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "RPS (Requests Per Second)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "__systemRef": "hideSeriesFrom",
            "matcher": {
              "id": "byNames",
              "options": {
                "mode": "exclude",
                "names": [
                  "histogram_quantile(0.95, sum(rate(envoy_cluster_upstream_rq_time_bucket{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[1m0s])) by (le))"
                ],
                "prefix": "All except:",
                "readOnly": true
              }
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 16,
        "y": 5
      },
      "id": 419,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "table",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "expr": "histogram_quantile(0.95, sum(rate(envoy_cluster_upstream_rq_time_bucket{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__rate_interval])) by (le))",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "instant": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "A",
          "useBackend": false
        }
      ],
      "title": "Average Latency (ms)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 100,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 11,
        "w": 8,
        "x": 0,
        "y": 13
      },
      "id": 345,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "list",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "editorMode": "code",
          "expr": "(\n  sum by(chain_id) (\n    label_replace(\n      increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__range]),\n      \"chain_id\", \"$1\", \"envoy_cluster_name\", \"httproute/middleware/([^-]+).*\"\n    )\n  )\n  -\n  sum by(chain_id) (\n    label_replace(\n      increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\", envoy_response_code=~\"5..\"}[$__range]),\n      \"chain_id\", \"$1\", \"envoy_cluster_name\", \"httproute/middleware/([^-]+).*\"\n    )\n  )\n)\n/\nsum by(chain_id) (\n  label_replace(\n    increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__range]),\n    \"chain_id\", \"$1\", \"envoy_cluster_name\", \"httproute/middleware/([^-]+).*\"\n  )\n) * 100",
          "instant": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Overall Success Rate per Service (%)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 11,
        "w": 8,
        "x": 8,
        "y": 13
      },
      "id": 349,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "editorMode": "code",
          "expr": "sum by(service_id) (\n  label_replace(\n    sum by(envoy_cluster_name) (\n      increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__range])\n    ),\n    \"service_id\", \n    \"$1\", \n    \"envoy_cluster_name\", \n    \"httproute/middleware/([^-]+).*\"\n  )\n)",
          "instant": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Organic Requests per Service ",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 11,
        "w": 8,
        "x": 16,
        "y": 13
      },
      "id": 382,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "expr": "label_replace(\n  histogram_quantile(0.95, sum(rate(envoy_cluster_upstream_rq_time_bucket{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__rate_interval])) by (le, envoy_cluster_name)),\n  \"service_id\", \"$1\", \"envoy_cluster_name\", \".*middleware/([^-]+)-subdomain.*\"\n)",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "instant": false,
          "legendFormat": "{{service_id}}",
          "range": true,
          "refId": "A",
          "useBackend": false
        }
      ],
      "title": "Average Latency Per Service (ms)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 11,
        "w": 12,
        "x": 0,
        "y": 24
      },
      "id": 384,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "expr": "sum by(error_type) (increase(path_morse_relay_errors_total[$__interval]))",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "instant": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "Morse Endpoint Errors",
          "useBackend": false
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "editorMode": "code",
          "expr": "sum by(error_type) (increase(path_shannon_relay_errors_total[$__interval]))",
          "hide": false,
          "instant": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "Shannon Endpoint Errors"
        }
      ],
      "title": "Shannon + Morse Count by Error Type",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "type": "auto"
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "service"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 266
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 11,
        "w": 12,
        "x": 12,
        "y": 24
      },
      "id": 508,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "path_version_info{namespace=\"middleware\"}",
          "format": "table",
          "instant": true,
          "legendFormat": "__auto",
          "range": false,
          "refId": "A"
        }
      ],
      "title": "Deployed path versions",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "build_date",
                "commit",
                "pod",
                "version",
                "cluster"
              ]
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "includeByName": {},
            "indexByName": {
              "build_date": 3,
              "cluster": 1,
              "commit": 4,
              "pod": 0,
              "version": 2
            },
            "renameByName": {}
          }
        }
      ],
      "type": "table"
    },
    {
      "datasource": {
        "type": "loki",
        "uid": "P69CF4DA0F0915ED5"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {},
        "overrides": []
      },
      "gridPos": {
        "h": 12,
        "w": 24,
        "x": 0,
        "y": 35
      },
      "id": 383,
      "options": {
        "dedupStrategy": "none",
        "enableInfiniteScrolling": false,
        "enableLogDetails": true,
        "prettifyLogMessage": false,
        "showCommonLabels": false,
        "showLabels": false,
        "showTime": false,
        "sortOrder": "Descending",
        "wrapLogMessage": false
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "loki",
            "uid": "P69CF4DA0F0915ED5"
          },
          "direction": "backward",
          "editorMode": "code",
          "expr": "{container=~\"path-shannon-mainnet\"} |= `error`",
          "queryType": "range",
          "refId": "A"
        }
      ],
      "title": "PATH Error Logs (MainNet only)",
      "type": "logs"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 47
      },
      "id": 498,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 48
          },
          "id": 501,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "(\n  sum by(service_id) (increase(path_requests_total{namespace=~\"middleware\", request_type=\"REQUEST_TYPE_ORGANIC\", service=~\"path-shannon-mainnet-metrics\"}[1m]))\n  /\n  (\n    sum by(service_id) (increase(path_requests_total{namespace=~\"middleware\", request_type=\"REQUEST_TYPE_ORGANIC\", service=~\"path-shannon-beta-metrics|path-shannon-metrics\"}[1m]))\n    +\n    sum by(service_id) (increase(path_requests_total{namespace=~\"middleware\", request_type=\"REQUEST_TYPE_ORGANIC\", service=~\"path-shannon-mainnet-metrics\"}[1m]))\n  )\n) * 100",
              "instant": false,
              "interval": "1m",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "% traffic on Main vs Beta",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 56
          },
          "id": 499,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "(\n  sum by(service_id) (increase(path_shannon_relays_total{success=\"true\", service_id=~\"$service_ids\"}[$__rate_interval]))\n  / \n  sum by(service_id) (increase(path_shannon_relays_total{service_id=~\"$service_ids\"}[$__rate_interval]))\n) * 100",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Protocol Success Rate by Services selected (%)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "loki",
            "uid": "P69CF4DA0F0915ED5"
          },
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 15,
            "w": 24,
            "x": 0,
            "y": 92
          },
          "id": 500,
          "options": {
            "dedupStrategy": "none",
            "enableInfiniteScrolling": false,
            "enableLogDetails": true,
            "prettifyLogMessage": false,
            "showCommonLabels": false,
            "showLabels": false,
            "showTime": false,
            "sortOrder": "Descending",
            "wrapLogMessage": false
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "loki",
                "uid": "P69CF4DA0F0915ED5"
              },
              "direction": "backward",
              "editorMode": "code",
              "expr": "{container=~\"path-shannon-beta|path-shannon-mainnet\"} | json | service_id=~\"${service_ids:pipe}\"",
              "queryType": "range",
              "refId": "A"
            }
          ],
          "title": "PATH Logs on Services selected",
          "type": "logs"
        }
      ],
      "title": "Beta to Main Migration (Traffic, Success %, Logs on selected services)",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 48
      },
      "id": 495,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMax": 100,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 206
          },
          "id": 490,
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(increase(path_shannon_relays_total{container=\"path-shannon-mainnet\", success=\"true\"}[$__rate_interval])) / \nsum(increase(path_shannon_relays_total{container=\"path-shannon-mainnet\"}[$__rate_interval])) * 100",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Shannon Overall Success Rate (%)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "loki",
            "uid": "P69CF4DA0F0915ED5"
          },
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 16,
            "x": 8,
            "y": 206
          },
          "id": 492,
          "options": {
            "dedupStrategy": "none",
            "enableInfiniteScrolling": false,
            "enableLogDetails": true,
            "prettifyLogMessage": false,
            "showCommonLabels": false,
            "showLabels": false,
            "showTime": false,
            "sortOrder": "Descending",
            "wrapLogMessage": false
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "loki",
                "uid": "P69CF4DA0F0915ED5"
              },
              "direction": "backward",
              "editorMode": "builder",
              "expr": "{container=\"path-shannon-mainnet\"} |= `Failed to validate`",
              "queryType": "range",
              "refId": "A"
            }
          ],
          "title": "Shannon Endpoint Payload Validation Errors",
          "type": "logs"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 214
          },
          "id": 496,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by() (increase(path_shannon_relays_total{container=\"path-shannon-mainnet\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Shannon Total Requests (Organic + Synthetic)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "loki",
            "uid": "P69CF4DA0F0915ED5"
          },
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 16,
            "x": 8,
            "y": 214
          },
          "id": 493,
          "options": {
            "dedupStrategy": "none",
            "enableInfiniteScrolling": false,
            "enableLogDetails": true,
            "prettifyLogMessage": false,
            "showCommonLabels": false,
            "showLabels": false,
            "showTime": false,
            "sortOrder": "Descending",
            "wrapLogMessage": false
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "loki",
                "uid": "P69CF4DA0F0915ED5"
              },
              "direction": "backward",
              "editorMode": "builder",
              "expr": "{container=\"path-shannon-mainnet\"} |= `code update needed`",
              "queryType": "range",
              "refId": "A"
            }
          ],
          "title": "Shannon Unhandled Endpoint Errors",
          "type": "logs"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 222
          },
          "id": 494,
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": false
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum(increase(path_shannon_sanctions_by_domain{container=\"path-shannon-mainnet\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{endpoint_domain}},{{sanction_reason}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Shannon Total Sanctions",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 222
          },
          "id": 506,
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(endpoint_domain, service_id) (increase(path_shannon_sanctions_by_domain{container=\"path-shannon-mainnet\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{service_id}} - {{endpoint_domain}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Shannon Sanctions by Endpoint Domain and Service ID",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 222
          },
          "id": 497,
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(endpoint_domain, sanction_reason) (increase(path_shannon_sanctions_by_domain{container=\"path-shannon-mainnet\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{endpoint_domain}},{{sanction_reason}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Shannon Sanctions by Endpoint Domain and Error Type",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 230
          },
          "id": 507,
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(service_id, error_type) (increase(path_shannon_relays_total{container=\"path-shannon-mainnet\", error_type!=\"\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{service_id}} - {{error_type}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Internal Errorrs by Service",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMax": 100,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 237
          },
          "id": 491,
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "(\n  sum by(service_id) (increase(path_shannon_relays_total{container=\"path-shannon-mainnet\", success=\"true\"}[$__rate_interval])) * 100\n  or\n  (sum by(service_id) (increase(path_shannon_relays_total{container=\"path-shannon-mainnet\"}[$__rate_interval])) * 0)\n) \n/ \nsum by(service_id) (increase(path_shannon_relays_total{container=\"path-shannon-mainnet\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{service_id}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Shannon Overall Success Rate by Service (%)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 243
          },
          "id": 505,
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(service_id) (increase(path_shannon_relays_total{container=\"path-shannon-mainnet\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{service_id}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Shannon Total Requests by Service (Organic + Synthetic)",
          "type": "timeseries"
        }
      ],
      "title": "Shannon Metrics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 49
      },
      "id": 454,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 12,
            "x": 0,
            "y": 950
          },
          "id": 453,
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by (service_id) (increase(path_shannon_sanctions_by_domain{container=\"path-shannon-beta\"}[$__range]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Total Sanctions by Service",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 12,
            "x": 12,
            "y": 950
          },
          "id": 487,
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by (endpoint_domain) (increase(path_shannon_sanctions_by_domain{container=\"path-shannon-beta\"}[$__range]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Total Sanctions by Endpoint Domain",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 12,
            "x": 0,
            "y": 985
          },
          "id": 488,
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by (service_id, endpoint_domain) (increase(path_shannon_sanctions_by_domain{container=\"path-shannon-beta\"}[$__range]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{service_id}} - {{endpoint_domain}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Sanctions Breakdown by Service and Domain",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 12,
            "x": 12,
            "y": 985
          },
          "id": 489,
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by (service_id, sanction_reason) (increase(path_shannon_sanctions_by_domain{container=\"path-shannon-beta\"}[$__range]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{service_id}} - {{sanction_reason}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Sanctions Breakdown by Service and Reason",
          "type": "timeseries"
        }
      ],
      "title": "Sanctions",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 50
      },
      "id": 64,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "#EAB839",
                    "value": 81
                  },
                  {
                    "color": "green",
                    "value": 91
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 4,
            "x": 0,
            "y": 951
          },
          "id": 97,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "mean"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "100 * sum(rate(envoy_http_ext_authz_ok[5m])) / (sum(rate(envoy_http_ext_authz_ok[5m])) + sum(rate(envoy_http_ext_authz_denied[5m])))  ",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Auth Success Rate",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "orange",
                    "value": 99
                  },
                  {
                    "color": "green",
                    "value": 99.5
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 4,
            "x": 4,
            "y": 951
          },
          "id": 101,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "100 * (\n  1 - (\n    sum(increase(envoy_cluster_upstream_rq_timeout{envoy_cluster_name=~\"httproute/middleware/.*\"}[5m]) + \n        increase(envoy_cluster_upstream_cx_connect_fail{envoy_cluster_name=~\"httproute/middleware/.*\"}[5m]) + \n        increase(envoy_cluster_upstream_rq_pending_overflow{envoy_cluster_name=~\"httproute/middleware/.*\"}[5m]))\n    /\n    sum(increase(envoy_cluster_upstream_rq_total{envoy_cluster_name=~\"httproute/middleware/.*\"}[5m]))\n  )\n)",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "PATH Overall Health",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "orange",
                    "value": 101
                  },
                  {
                    "color": "green",
                    "value": 151
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 4,
            "x": 8,
            "y": 951
          },
          "id": 106,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "sum"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum(rate(envoy_cluster_upstream_rq_total{envoy_cluster_name=~\"httproute/middleware/.*\"}[5m]))",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Total Requests",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 500,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "#EAB839",
                    "value": 100
                  },
                  {
                    "color": "red",
                    "value": 250
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 4,
            "x": 12,
            "y": 951
          },
          "id": 99,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "mean"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum(rate(envoy_cluster_upstream_rq_time_bucket{envoy_cluster_name=~\".*auth.*\"}[5m])) by (le))",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "95th Percentile Auth Latency (ms)",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 1000,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "#EAB839",
                    "value": 500
                  },
                  {
                    "color": "red",
                    "value": 901
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 4,
            "x": 16,
            "y": 951
          },
          "id": 103,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "mean"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum(rate(envoy_cluster_upstream_rq_time_bucket{envoy_cluster_name=~\"httproute/middleware/.*\"}[5m])) by (le))",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "p50"
            }
          ],
          "title": "P95 Latency of PATH ressponses (ms)",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "yellow",
                    "value": 80
                  },
                  {
                    "color": "green",
                    "value": 99
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 4,
            "x": 20,
            "y": 951
          },
          "id": 100,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "mean"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "100 * sum(envoy_cluster_membership_healthy{envoy_cluster_name=~\".*auth.*\"}) / sum(envoy_cluster_membership_total{envoy_cluster_name=~\".*auth.*\"})",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "External Auth Service Availability",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 959
          },
          "id": 104,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "list",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum by(chain_id) (\n  label_replace(\n    envoy_cluster_upstream_rq_total{envoy_cluster_name=~\"httproute/middleware/.*\"},\n    \"chain_id\", \n    \"$1\", \n    \"envoy_cluster_name\", \n    \"httproute/middleware/([^-]+).*\"\n  )\n)",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Total Requests by Chain/Service ID",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-RdYlGr"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 959
          },
          "id": 107,
          "options": {
            "displayMode": "gradient",
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "topk(10, \n  sum by(chain_id) (\n    label_replace(\n      increase(envoy_cluster_upstream_rq_total{envoy_cluster_name=~\"httproute/middleware/.*\"}[$__range]),\n      \"chain_id\", \n      \"$1\", \n      \"envoy_cluster_name\", \n      \"httproute/middleware/([^-]+).*\"\n    )\n  )\n)",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top Services/Chains by Traffic",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "yellow",
                    "value": 201
                  },
                  {
                    "color": "orange",
                    "value": 501
                  },
                  {
                    "color": "red",
                    "value": 1001
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 959
          },
          "id": 110,
          "options": {
            "displayMode": "gradient",
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "topk(10,\n  histogram_quantile(0.9, \n    sum by(chain_id, le) (\n      label_replace(\n        rate(envoy_cluster_upstream_rq_time_bucket{envoy_cluster_name=~\"httproute/middleware/.*\"}[$__rate_interval]),\n        \"chain_id\", \n        \"$1\", \n        \"envoy_cluster_name\", \n        \"httproute/middleware/([^-]+).*\"\n      )\n    )\n  )\n)",
              "instant": false,
              "legendFormat": "{{chain}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "P90 Service Response Time",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 967
          },
          "id": 108,
          "options": {
            "displayMode": "gradient",
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "topk(10,\n  sum by(chain_id) (\n    label_replace(\n      sum by(envoy_cluster_name) (\n        increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_response_code!~\"2..\"}[$__range])\n      ),\n      \"chain_id\", \n      \"$1\", \n      \"envoy_cluster_name\", \n      \"httproute/middleware/([^-]+).*\"\n    )\n  )\n)",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top Chains by Non-2XX Responses: Total Requests",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 100,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 967
          },
          "id": 109,
          "options": {
            "displayMode": "gradient",
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "# Percentage of non-2xx responses out of total requests for each chain\ntopk(10,\n  (\n    sum by(chain_id) (\n      label_replace(\n        sum by(envoy_cluster_name) (\n          increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_response_code!~\"2..\"}[$__range])\n        ),\n        \"chain_id\", \n        \"$1\", \n        \"envoy_cluster_name\", \n        \"httproute/middleware/([^-]+).*\"\n      )\n    )\n    /\n    sum by(chain_id) (\n      label_replace(\n        sum by(envoy_cluster_name) (\n          increase(envoy_cluster_upstream_rq{envoy_cluster_name=~\"httproute/middleware/.*\"}[$__range])\n        ),\n        \"chain_id\", \n        \"$1\", \n        \"envoy_cluster_name\", \n        \"httproute/middleware/([^-]+).*\"\n      )\n    )\n  ) * 100\n)",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top Chains by Non-2XX Response Rate (%)",
          "type": "bargauge"
        }
      ],
      "title": "Envoy",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 51
      },
      "id": 502,
      "panels": [
        {
          "datasource": {
            "type": "victoriametrics-metrics-datasource",
            "uid": "depa5rvnhcx6oe"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 690
          },
          "id": 503,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "victoriametrics-metrics-datasource",
                "uid": "depa5rvnhcx6oe"
              },
              "editorMode": "code",
              "expr": "round(sum(irate(nginx_ingress_controller_requests{ingress=~\".*pavers.*\"}[2m])) by (ingress), 0.001)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Pavers endpoints",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "victoriametrics-logs-datasource",
            "uid": "depa5bgc9o6ipf"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "bars",
                "fillOpacity": 100,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 690
          },
          "id": 504,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "victoriametrics-logs-datasource",
                "uid": "depa5bgc9o6ipf"
              },
              "editorMode": "code",
              "expr": "kubernetes.pod_namespace:\"ingress-nginx\" AND \"testnet-beta-testnet-beta-pavers-grpc\" \n| extract \"<client_ip> - - [<timestamp>] \\\"<method> <path> <protocol>\\\" <status> <body_bytes> \\\"<referrer>\\\" \\\"<user_agent>\\\" <upstream_time_ms> <request_time_s> [<upstream_group>] [] <upstream_addr> <upstream_bytes> <upstream_duration_s> <upstream_status> <request_id>\"\n| stats by(path) count() as hits\n| sort by(hits desc)\n",
              "legendFormat": "",
              "queryType": "statsRange",
              "refId": "A",
              "step": "30s"
            }
          ],
          "title": "BETA pavers endpoint requests type",
          "type": "timeseries"
        }
      ],
      "title": "PATH: full node utilization",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 52
      },
      "id": 12,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": [],
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 0,
            "y": 1134
          },
          "id": 6,
          "interval": "1m",
          "options": {
            "displayLabels": [
              "percent"
            ],
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum  (increase(middleware_recorder_relays{container=\"middleware\", event=\"network_relay_recorded\"}[30s]))",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "legendFormat": "middleware - {{cluster}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum  (increase(path_requests_total{namespace=~\"middleware\", request_type=\"REQUEST_TYPE_ORGANIC\"}[30s]))",
              "hide": false,
              "instant": false,
              "interval": "",
              "legendFormat": "PATH - {{cluster}} (morse)",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Total - Traffic shifting",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": [],
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 3,
            "y": 1134
          },
          "id": 4,
          "interval": "1m",
          "options": {
            "displayLabels": [
              "percent"
            ],
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum  (increase(middleware_recorder_relays{container=\"middleware\", event=\"network_relay_recorded\", cluster=\"portal-prd-us-east4\"}[30s]))",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "legendFormat": "middleware - {{cluster}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum  (increase(path_requests_total{namespace=~\"middleware\", cluster=\"portal-prd-us-east4\", request_type=\"REQUEST_TYPE_ORGANIC\"}[30s]))",
              "hide": false,
              "instant": false,
              "interval": "",
              "legendFormat": "PATH - {{cluster}} (morse)",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "US - Traffic shifting",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": [],
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 6,
            "y": 1134
          },
          "id": 5,
          "interval": "1m",
          "options": {
            "displayLabels": [
              "percent"
            ],
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum  (increase(middleware_recorder_relays{container=\"middleware\", event=\"network_relay_recorded\", cluster=\"portal-prd-europe-west3\"}[30s]))",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "legendFormat": "middleware - {{cluster}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum  (increase(path_requests_total{namespace=~\"middleware\", cluster=\"portal-prd-europe-west3\", request_type=\"REQUEST_TYPE_ORGANIC\"}[30s]))",
              "hide": false,
              "instant": false,
              "interval": "",
              "legendFormat": "PATH - {{cluster}} (morse)",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Europe - Traffic shifting",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": [],
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 3,
            "x": 9,
            "y": 1134
          },
          "id": 3,
          "interval": "1m",
          "options": {
            "displayLabels": [
              "percent"
            ],
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum  (increase(middleware_recorder_relays{container=\"middleware\", event=\"network_relay_recorded\", cluster=\"portal-prd-asia-southeast1\"}[30s]))",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "legendFormat": "middleware - {{cluster}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum  (increase(path_requests_total{namespace=~\"middleware\", cluster=\"portal-prd-asia-southeast1\", request_type=\"REQUEST_TYPE_ORGANIC\"}[30s]))",
              "hide": false,
              "instant": false,
              "interval": "",
              "legendFormat": "PATH - {{cluster}} (morse)",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "APAC - Traffic shifting",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 4,
            "x": 12,
            "y": 1134
          },
          "id": 9,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum(increase(path_morse_relays_total{}[24h]))",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Total relays (Organic + Synthetic) over the last 24 hours",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 4,
            "x": 16,
            "y": 1134
          },
          "id": 211,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum(increase(fluentd_output_status_emit_records{type=\"bigquery_insert\"}[$__range]))",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Total Fluentd Written Records",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1140
          },
          "id": 2,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by(cluster) (increase(middleware_recorder_relays{container=\"middleware\", event=\"network_relay_recorded\"}[$__interval]))",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "legendFormat": "middleware - {{cluster}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum by(cluster) (increase(path_morse_relays_total{namespace=~\"middleware\"}[$__interval]))",
              "hide": false,
              "instant": false,
              "interval": "",
              "legendFormat": "PATH - {{cluster}} (morse)",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Relays by Region (middleware vs path)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 1140
          },
          "id": 10,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by(cluster) (increase(middleware_recorder_relays{container=\"middleware\", event=\"network_relay_recorded\"}[$__interval]))",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "legendFormat": "middleware - {{cluster}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum by(cluster) (increase(path_requests_total{namespace=~\"middleware\", request_type=\"REQUEST_TYPE_ORGANIC\"}[$__interval]))",
              "hide": false,
              "instant": false,
              "interval": "",
              "legendFormat": "PATH - {{cluster}} (morse)",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Relays by Region (path ORGANIC only)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "#EAB839",
                    "value": 90
                  },
                  {
                    "color": "green",
                    "value": 91
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 4,
            "x": 0,
            "y": 1148
          },
          "id": 18,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "(\n  sum(increase(path_morse_relays_total{namespace=\"middleware\", success=\"true\"}[$__rate_interval]))\n  / sum(increase(path_morse_relays_total{namespace=\"middleware\"}[$__rate_interval]))\n  * 100\n)",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "EVM_Successful_Requests",
              "useBackend": false
            }
          ],
          "title": "Morse Requests Success Rate",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 4,
            "x": 4,
            "y": 1148
          },
          "id": 13,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum(increase(path_requests_total{namespace=\"middleware\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Total Requests",
              "range": true,
              "refId": "TotalRequestsOnMorse",
              "useBackend": false
            }
          ],
          "title": "PATH Total Requests: Organic + Synthetic",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "yellow",
                    "value": 80
                  },
                  {
                    "color": "green",
                    "value": 91
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 1148
          },
          "id": 144,
          "options": {
            "displayMode": "gradient",
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "mean"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "(\n  sum by (service_id) (increase(path_morse_relays_total{namespace=\"middleware\", success=\"true\"}[$__rate_interval]))\n  / sum by (service_id) (increase(path_morse_relays_total{namespace=\"middleware\"}[$__rate_interval]))\n  * 100\n)",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Morse Success Rate by Service ID (%)",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "loki",
            "uid": "P69CF4DA0F0915ED5"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 1148
          },
          "id": 244,
          "options": {
            "dedupStrategy": "none",
            "enableInfiniteScrolling": false,
            "enableLogDetails": true,
            "prettifyLogMessage": false,
            "showCommonLabels": false,
            "showLabels": false,
            "showTime": false,
            "sortOrder": "Descending",
            "wrapLogMessage": false
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "loki",
                "uid": "P69CF4DA0F0915ED5"
              },
              "editorMode": "builder",
              "expr": "{container=\"path\"} |= `morse` |= `relay error occurred`",
              "queryType": "range",
              "refId": "A"
            }
          ],
          "title": "Morse Protocol Error Logs",
          "type": "logs"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "#EAB839",
                    "value": 90
                  },
                  {
                    "color": "green",
                    "value": 91
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 4,
            "x": 0,
            "y": 1156
          },
          "id": 14,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "mean"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true,
            "sizing": "auto"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "(\n  sum(increase(path_evm_requests_total{namespace=\"middleware\", service=\"path-metrics\", success=\"true\", request_origin=\"REQUEST_ORIGIN_ORGANIC\"}[$__rate_interval])) /\n  sum(increase(path_evm_requests_total{namespace=\"middleware\", service=\"path-metrics\", request_origin=\"REQUEST_ORIGIN_ORGANIC\"}[$__rate_interval])) \n) * 100",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "EVM_Successful_Requests",
              "useBackend": false
            }
          ],
          "title": "EVM ORGANIC Requests Success Rate",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 4,
            "x": 4,
            "y": 1156
          },
          "id": 17,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum(increase(path_evm_requests_total{namespace=\"middleware\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Total Requests",
              "range": true,
              "refId": "TotalEVMRequests",
              "useBackend": false
            }
          ],
          "title": "EVM Requests",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "#EAB839",
                    "value": 50
                  },
                  {
                    "color": "green",
                    "value": 91
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 1156
          },
          "id": 143,
          "options": {
            "displayMode": "gradient",
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "mean"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "(\n  sum by (service_id) (\n    label_replace(\n      increase(path_evm_requests_total{namespace=\"middleware\",service=\"path-metrics\", request_origin=\"REQUEST_ORIGIN_ORGANIC\", success=\"true\"}[$__interval]),\n      \"service_id\", \"Unspecified\", \"service_id\", \"^$\"\n    )\n  ) /\n  sum by (service_id) (\n    label_replace(\n      increase(path_evm_requests_total{namespace=\"middleware\", service=\"path-metrics\", request_origin=\"REQUEST_ORIGIN_ORGANIC\",}[$__interval]),\n      \"service_id\", \"Unspecified\", \"service_id\", \"^$\"\n    )\n  )\n) * 100",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "EVM ORGANIC Requests Success Rate by Service",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "loki",
            "uid": "P69CF4DA0F0915ED5"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 1156
          },
          "id": 245,
          "options": {
            "dedupStrategy": "none",
            "enableInfiniteScrolling": false,
            "enableLogDetails": true,
            "prettifyLogMessage": false,
            "showCommonLabels": false,
            "showLabels": false,
            "showTime": false,
            "sortOrder": "Descending",
            "wrapLogMessage": false
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "loki",
                "uid": "P69CF4DA0F0915ED5"
              },
              "editorMode": "builder",
              "expr": "{container=\"path\"} |~ `(?i)evm`",
              "queryType": "range",
              "refId": "A"
            }
          ],
          "title": "QoS EVM Error Logs",
          "type": "logs"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 1164
          },
          "id": 23,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(service_id) (rate(path_requests_total{namespace=\"middleware\", request_type=\"REQUEST_TYPE_ORGANIC\"}[$__interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Total Organic Requests by Chain/Service",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMax": 100,
                "axisSoftMin": 0,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 1164
          },
          "id": 145,
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "list",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sort(\n  (\n    sum by (service_id) (increase(path_morse_relays_total{namespace=\"middleware\", success=\"true\"}[$__rate_interval]))\n    / sum by (service_id) (increase(path_morse_relays_total{namespace=\"middleware\"}[$__rate_interval]))\n    * 100\n  )\n)",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Morse Request Success Rate by Service (%)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 1164
          },
          "id": 278,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(error_type) (rate(path_morse_relay_errors_total[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Morse Rate of Endpoint Errors by Error Type",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1172
          },
          "id": 279,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(error_type, service_id) (rate(path_evm_requests_total{success=\"false\", request_origin=\"REQUEST_ORIGIN_ORGANIC\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{service_id}},{{error_type}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "EVM Failed Organic Requests Error Type by Service",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 1172
          },
          "id": 21,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "100 * sum by(service_id) (rate(path_evm_requests_total{namespace=\"middleware\", success=\"true\"}[$__interval])) / sum by(service_id) (rate(path_evm_requests_total{namespace=\"middleware\"}[$__interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "EVM Success Rate by Service (%)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "loki",
            "uid": "P69CF4DA0F0915ED5"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1180
          },
          "id": 452,
          "options": {
            "dedupStrategy": "none",
            "enableInfiniteScrolling": false,
            "enableLogDetails": true,
            "prettifyLogMessage": false,
            "showCommonLabels": false,
            "showLabels": false,
            "showTime": false,
            "sortOrder": "Descending",
            "wrapLogMessage": false
          },
          "pluginVersion": "12.0.1+security-01",
          "targets": [
            {
              "datasource": {
                "type": "loki",
                "uid": "P69CF4DA0F0915ED5"
              },
              "editorMode": "builder",
              "expr": "{container=\"path-shannon-beta\"} |= `error getting a session`",
              "queryType": "range",
              "refId": "A"
            }
          ],
          "title": "Shannon (Beta Testnet) Fetch Session Logs",
          "type": "logs"
        }
      ],
      "title": "PATH Overview",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 53
      },
      "id": 178,
      "panels": [],
      "title": "Non-2xx Responses",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 54
      },
      "id": 22,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": [],
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 3,
            "x": 0,
            "y": 1967
          },
          "id": 11,
          "interval": "1m",
          "options": {
            "displayLabels": [
              "percent"
            ],
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum  (increase(path_requests_total{namespace=~\"middleware\", cluster=\"portal-prd-asia-southeast1\"}[$__interval])) by (request_type)",
              "hide": false,
              "instant": false,
              "interval": "",
              "legendFormat": "{{request_type}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Organic / Synthetic in US",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": [],
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 3,
            "x": 3,
            "y": 1967
          },
          "id": 15,
          "interval": "1m",
          "options": {
            "displayLabels": [
              "percent"
            ],
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum  (increase(path_requests_total{namespace=~\"middleware\", cluster=\"portal-prd-us-east4\"}[$__interval])) by (request_type)",
              "hide": false,
              "instant": false,
              "interval": "",
              "legendFormat": "{{request_type}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Organic / Synthetic in APAC",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": [],
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 3,
            "x": 6,
            "y": 1967
          },
          "id": 16,
          "interval": "1m",
          "options": {
            "displayLabels": [
              "percent"
            ],
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "editorMode": "code",
              "expr": "sum  (increase(path_requests_total{namespace=~\"middleware\", cluster=\"portal-prd-europe-west3\"}[$__interval])) by (request_type)",
              "hide": false,
              "instant": false,
              "interval": "",
              "legendFormat": "{{request_type}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Organic / Synthetic in Europe",
          "type": "piechart"
        }
      ],
      "title": "PATH Organic vs. Syntheic Requests",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 55
      },
      "id": 24,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 9,
            "x": 0,
            "y": 1988
          },
          "id": 25,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "10.1.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum(increase(path_requests_total{namespace=\"middleware\", cluster=\"$Cluster\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Total Requests",
              "range": true,
              "refId": "TotalRequestsOnMorse",
              "useBackend": false
            }
          ],
          "title": "PATH Total Requests",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "#EAB839",
                    "value": 90
                  },
                  {
                    "color": "green",
                    "value": 91
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 5,
            "x": 9,
            "y": 1988
          },
          "id": 27,
          "options": {
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true
          },
          "pluginVersion": "10.1.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "(\n  sum(increase(path_morse_relays_total{namespace=\"middleware\",cluster=\"$Cluster\", success=\"true\"}[$__rate_interval]))\n  / sum(increase(path_morse_relays_total{namespace=\"middleware\", cluster=\"$Cluster\"}[$__rate_interval]))\n  * 100\n)",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "EVM_Successful_Requests",
              "useBackend": false
            }
          ],
          "title": "Morse Requests Success Rate",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 10,
            "x": 14,
            "y": 1988
          },
          "id": 29,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(service_id) (rate(path_requests_total{namespace=\"middleware\",cluster=\"$Cluster\", request_type=\"REQUEST_TYPE_ORGANIC\"}[$__interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Total Organic Requests by Chain/Service",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 9,
            "x": 0,
            "y": 1995
          },
          "id": 26,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "10.1.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum(increase(path_evm_requests_total{namespace=\"middleware\", cluster=\"$Cluster\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Total Requests",
              "range": true,
              "refId": "TotalEVMRequests",
              "useBackend": false
            }
          ],
          "title": "EVM Requests",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red"
                  },
                  {
                    "color": "#EAB839",
                    "value": 90
                  },
                  {
                    "color": "green",
                    "value": 91
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 5,
            "x": 9,
            "y": 1995
          },
          "id": 28,
          "options": {
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": true
          },
          "pluginVersion": "10.1.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "(\n  sum(increase(path_evm_requests_total{namespace=\"middleware\",cluster=\"$Cluster\", success=\"true\"}[$__rate_interval])) /\n  sum(increase(path_evm_requests_total{namespace=\"middleware\", cluster=\"$Cluster\"}[$__rate_interval])) \n) * 100",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "EVM_Successful_Requests",
              "useBackend": false
            }
          ],
          "title": "EVM Requests Success Rate: Organic + Synthetic",
          "type": "gauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 12,
            "x": 0,
            "y": 2002
          },
          "id": 30,
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(service_id) (rate(path_morse_relays_total{namespace=\"middleware\", cluster=\"$Cluster\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Relays By Chain: Organic + Synthetic",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 12,
            "x": 12,
            "y": 2002
          },
          "id": 31,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "10.1.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "100 * sum by(service_id) (rate(path_evm_requests_total{namespace=\"middleware\",cluster=\"$Cluster\", success=\"true\"}[$__interval])) / sum by(service_id) (rate(path_evm_requests_total{namespace=\"middleware\", cluster=\"$Cluster\"}[$__interval]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "EVM Success Rate by Chain/Service",
          "type": "timeseries"
        }
      ],
      "repeat": "Cluster",
      "title": "PATH Overview by Region: $Cluster",
      "type": "row"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 60
      },
      "id": 8,
      "panels": [],
      "title": "Session Rollover Investigation",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 14,
        "w": 24,
        "x": 0,
        "y": 61
      },
      "id": 509,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "expr": "label_replace(\n  label_replace(\n    histogram_quantile(0.95, sum(rate(envoy_cluster_upstream_rq_time_bucket{envoy_cluster_name=~\"httproute/middleware/(poly|xrplevm-testnet|eth)-.*\", envoy_cluster_name!~\".*healthz.*\"}[$__rate_interval])) by (le, envoy_cluster_name, cluster)),\n    \"service\", \"$1\", \"envoy_cluster_name\", \"httproute/middleware/(.+)-[^-]+$\"\n  ),\n  \"region\", \"$1\", \"cluster\", \"portal-prd-(.*)\"\n)",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "instant": false,
          "legendFormat": "{{service}}-{{region}}",
          "range": true,
          "refId": "A",
          "useBackend": false
        }
      ],
      "title": "Latency Per Service/Region (poly, eth, xrpl)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 14,
        "w": 24,
        "x": 0,
        "y": 75
      },
      "id": 511,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "expr": "label_replace(\n  histogram_quantile(0.5, sum(rate(envoy_cluster_upstream_rq_time_bucket{envoy_cluster_name=~\"httproute/middleware/.*\", envoy_cluster_name!~\".*healthz.*\"}[$__rate_interval])) by (le, cluster)),\n  \"region\", \"$1\", \"cluster\", \"portal-prd-(.*)\"\n)",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "instant": false,
          "legendFormat": "{{service}}-{{region}}",
          "range": true,
          "refId": "A",
          "useBackend": false
        }
      ],
      "title": "Latency Per Region (all services)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "loki",
        "uid": "P69CF4DA0F0915ED5"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 12,
        "w": 24,
        "x": 0,
        "y": 89
      },
      "id": 510,
      "options": {
        "barRadius": 0,
        "barWidth": 0.97,
        "fullHighlight": false,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": true
        },
        "orientation": "auto",
        "showValue": "auto",
        "stacking": "normal",
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": 0,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "12.0.2",
      "targets": [
        {
          "datasource": {
            "type": "loki",
            "uid": "P69CF4DA0F0915ED5"
          },
          "direction": "backward",
          "editorMode": "code",
          "expr": "label_replace(\n  count_over_time({container=~\"path-shannon-mainnet\"} |= \"grace period\" |= \"IS NOT WITHIN\"[5m]),\n  \"status\", \"NOT Within Grace Period\", \"\", \"\"\n)",
          "legendFormat": "NOT Within Grace Period",
          "queryType": "range",
          "refId": "A"
        },
        {
          "datasource": {
            "type": "loki",
            "uid": "P69CF4DA0F0915ED5"
          },
          "direction": "backward",
          "editorMode": "code",
          "expr": "label_replace(\n  count_over_time({container=~\"path-shannon-mainnet\"} |= \"grace period\" |= \"IS WITHIN\"[5m]),\n  \"status\", \"Within Grace Period\", \"\", \"\"\n)",
          "hide": false,
          "legendFormat": "Within Grace Period",
          "queryType": "range",
          "refId": "B"
        }
      ],
      "title": "Grace Period Logs",
      "type": "barchart"
    }
  ],
  "preload": false,
  "refresh": "1m",
  "schemaVersion": 41,
  "tags": [],
  "templating": {
    "list": [
      {
        "current": {
          "text": "All",
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
        },
        "definition": "label_values(cluster)",
        "includeAll": true,
        "label": "Cluster",
        "multi": true,
        "name": "Cluster",
        "options": [],
        "query": {
          "query": "label_values(cluster)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": ".*portal-[prd|stg].*",
        "type": "query"
      },
      {
        "current": {
          "text": "F016",
          "value": "F016"
        },
        "hide": 2,
        "includeAll": false,
        "label": "TargetServiceID",
        "name": "TargetServiceID",
        "options": [],
        "query": "",
        "type": "custom"
      },
      {
        "current": {
          "text": [
            "poly",
            "eth",
            "base",
            "arb",
            "arb-sepolia-testnet",
            "arb-one"
          ],
          "value": [
            "poly",
            "eth",
            "base",
            "arb",
            "arb-sepolia-testnet",
            "arb-one"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "ad44f9fa-1c08-4eae-ad3a-3a12d9fe762d"
        },
        "definition": "label_values(path_shannon_relays_total,service_id)",
        "description": "",
        "label": "Set of service IDs to target in Critical Services queries",
        "multi": true,
        "name": "service_ids",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(path_shannon_relays_total,service_id)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "Grace period count logs",
  "uid": "c2bfa96e-cd54-4a91-98f9-f74a53576607",
  "version": 1
}
